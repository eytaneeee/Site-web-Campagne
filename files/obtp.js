var eventHandler=function(){var t={};return{on:function(e,n){-1===Object.keys(t).indexOf(e)&&(t[e]=[]);return t[e].push(n),function(){t[e]=t[e].filter(function(e){return e!=n})}},dispatch:function(e){if(-1===Object.keys(t).indexOf(e))return;for(var n=0;n<t[e].length;n++)t[e][n].apply(null,Array.prototype.slice.call(arguments,1))}}}();try{!function(n,o,t,a){"use strict";function e(){}function i(e,n,t){var r=e[n];e[n]=function(){var e=r.apply(this,arguments);return t.apply(this,arguments),e}}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){if(e)return c(e)?e:e.replace(" ","").split(",")}function s(){n.obApi.dispatch.apply(n.obApi,arguments)}var u="//tr.outbrain.com",d="PAGE_VIEW",p="product",f="has_concent_event";s.version=n.obApi.version,s.loaded=n.obApi.loaded,s.marketerId=r(n.obApi.marketerId),s.queue=n.obApi.queue;var l=n.obApi=s;function m(e){var n,t,r,o=(v().split("?")[1]||"").split(/&/);for(n=0;n<o.length;n++)if(t=o[n],r=e,0===t.indexOf(r+"="))return o[n].split("=")[1].split("#")[0];return""}function v(){var n="";try{n=window.top.location.href||document.location.href}catch(e){n=document.location.href}return n||""}l.obtpVersion="1.10.0",s.addMarketer=function(e){s.marketerId=s.marketerId.concat(r(e))};var h,_,w=(_=[],eventHandler.on(f,function(e){if(h=e)for(;_.length;){var n=_.pop();g(n.name,n.value,n.expirationInDays,n.domain)}}),{get:function(e){if(!document.cookie)return"";var n="";try{n=decodeURIComponent(document.cookie)}catch(e){}var t=n.indexOf(e+"=");if(t<0)return"";var r=t+(e+"=").length,o=n.indexOf(";",r),a=0<o?o:document.cookie.length;return n.substring(r,a)},set:g});function g(e,n,t,r){if(h){var o=new Date;o.setTime(o.getTime()+24*t*60*60*1e3);var a="expires="+o.toUTCString(),i=encodeURIComponent(e)+"="+encodeURIComponent(n)+"; "+a+"; path=/;";r&&(i+="domain="+r+";"),document.cookie=i}else _.push({name:e,value:n,expirationInDays:t,domain:r})}var b,y,C,I,k,E,A,R,O,N,S=(I=C=!(y=[]),k=function(e,n){e.name;if(e.contentType===p&&n){var t=e.content&&e.content.id;t&&A(t,e.marketerId)}E.apply(null,arguments)},E=function(e,n){var t=N(e);delete t.content,delete t.contentType,t.optOut=n?"false":"true";var r=n?function(){var e,n=m("ob_cvr_pixel_domain"),t=m("dicbo");e=t?(w.set("outbrain_click_id",t,1,n),t):w.get("outbrain_click_id");return e}():"";r&&(t.ob_click_id=r),(new o).src=u+"/unifiedPixel?"+R(t)+"&bust="+L()+"&referrer="+encodeURIComponent(document.referrer)},A=function(e,n){(new o).src="//dr.outbrain.com/pixel?mid="+n+"&pid="+e+"&bust="+L()},R=function(e){var n=["dl","name"],t=[];for(var r in e)e.hasOwnProperty(r)&&(-1<n.indexOf(r)?t.push(r+"="+encodeURIComponent(e[r])):t.push(r+"="+e[r]));return t.join("&")},O=function(e){for(var n=[],t={},r=0;r<e.length;r++)t[e[r]]||n.push(e[r]),t[e[r]]=!0;return n},N=function(e){var n={};for(var t in e)n[t]=e[t];return n},function(){var e=arguments;if(!e[1])throw new Error("can't dispatch pixel, event name is missing");var n=e[0],t=e[2]&&"object"==typeof e[2]?e[2]:{};!1===c(l.marketerId)&&(l.marketerId=[l.marketerId]);var r=O(l.marketerId),o={};for(var a in t)o[a]=t[a];switch(o.marketerId=r.toString(),o.obApiVersion=l.version,o.obtpVersion=l.obtpVersion,o.name=e[1].replace(/ /g,"-"),o.dl=v(),n){case"track":B(o,n),function(e){if(I)return k(e,b);y.push(e),C||(C=!0,Y.checkHasConsent(function(e){for(I=!0,b=!!e,eventHandler.dispatch(f,b);0<y.length;)k(y.shift(),b)}))}(o);break;default:W(W.LOG_TYPES.ERROR,"Command type "+n+" is not recognized",o.name)}});function L(){return Math.random().toString().replace(".","")}obApi.dispatch=S;var P={hasConsent:function(){return window.__uspapi&&"function"==typeof window.__uspapi},handleConsent:function(t){window.__uspapi("getUSPData",1,function(e,n){n&&"1YYN"!==e.uspString.toUpperCase()&&"1NYN"!==e.uspString.toUpperCase()||!e.uspString?t(!0):t(!1)})}},G={hasConsent:function(){return!!window.__cmp||!!T()},handleConsent:function(e){function r(){window.removeEventListener?window.removeEventListener("message",n,!1):window.detachEvent&&window.detachEvent("message",n,!1),e.apply(e,arguments)}var n=function(e){var n;try{n=e&&"string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){r(!0)}n&&n.__cmpReturn&&o(r,n.__cmpReturn.returnValue,n.__cmpReturn.success)},o=function(e,n,t){if((!t||!n||!n.vendorConsents||void 0===n.vendorConsents[164]||!0===n.vendorConsents[164])&&function(e){if(!e)return 1;var n=!0;for(var t in e)if(e.hasOwnProperty(t)&&(n=!1,e[t]))return 1;return n}(n.purposeConsents))return e(!0);e(!1)};!function(t){if("function"==typeof window.__cmp)window.__cmp("getVendorConsents",[164],function(e,n){o(t,e,n)});else{var e=T();if(window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent&&window.attachEvent("message",n,!1),!e)return r({msg:"CMP not found"},!1);e.postMessage({__cmpCall:{command:"getVendorConsents",parameter:[164],callId:"obamplify"}},"*")}}(r)}};function T(){var e=window;try{for(;e&&!e.frames.__cmpLocator;){if(e===window.top)return;e=e.parent}return e}catch(e){}}var x={hasConsent:function(){return!!window.__tcfapi||!!V()},handleConsent:function(t){function r(e,n){o(t,e,n)}function o(e,n,t){t&&"tcloaded"===n.eventStatus?(n&&n.vendor&&n.vendor.consents&&void 0!==n.vendor.consents[164]&&!0!==n.vendor.consents[164]||!n||!function(e){if(!e||!e.consents)return 1;var n=e.consents,t=!0;return[1,3,4].forEach(function(e){n.hasOwnProperty(e)&&!1===n[e]&&(t=!1)}),t}(n.purpose)?e(!1):e(!0),__tcfapi("removeEventListener",2,r)):e(!0)}function e(e){e.data.__tcfapiReturn&&"obamplify"===e.data.__tcfapiReturn.callId&&o(t,e.data.__tcfapiReturn.returnValue,!0)}if(window.__tcfapi)window.__tcfapi("addEventListener",2,r),__tcfapi("getTCData",2,r,[164]);else{var n=V();window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("message",e,!1),n.postMessage({__tcfapiCall:{command:"getTCData",parameter:[164],version:2,callId:"obamplify"}},"*")}}};function V(){var e=window;try{for(;e&&!e.frames.__tcfapiLocator;){if(e===window.top)return;e=e.parent}return e}catch(e){}}var U,D,Y=(U=0,{checkHasConsent:function(e){function n(){clearTimeout(U),e.apply(e,arguments)}try{U=setTimeout(function(){e(!0)},500),G.hasConsent()?G.handleConsent(n):x.hasConsent()?x.handleConsent(n):P.hasConsent()?P.handleConsent(n):n(!0)}catch(e){throw n(!0),e}}}),W=(function(){var r;if(t.pushState&&t.replaceState&&n.addEventListener){var e=function(e,n,t){a.href!==r&&t&&(r=a.href,obApi("track",d))};i(t,"pushState",e),i(t,"replaceState",e),n.addEventListener("popstate",e,!1)}}(),D=n.postMessage||e,j.LOG_TYPES={LOG:"log",WARNING:"warning",INFO:"info",ERROR:"error"},j);function j(e,n,t){D({action:"log",type:e,message:n,name:t?t.replace(/ /g,"-"):""},"*")}var H,M,q,z,B=(H={USD:1,CAD:1,EUR:1,GBP:1,ILS:1,AUD:1,MXN:1,BRL:1,SEK:1,SGD:1,RUB:1,NZD:1,INR:1,JPY:1,PHP:1,CHF:1},M=new RegExp("^[A-Za-z0-9]+[A-Za-z0-9-]*$"),q=new RegExp("^[0-9]+[.0-9]*$"),function(e,n){var t=e.contentType===p,r=e.content&&e.content.id;return!t||r&&("number"==typeof r||"string"==typeof r)?e.orderValue&&!e.currency?(W(W.LOG_TYPES.WARNING,"Order value reported but no currency is declared",e.name),!1):e.currency&&!H.hasOwnProperty(e.currency)?(W(W.LOG_TYPES.WARNING,"Currency not recognized",e.name),!1):e.orderValue&&!q.test(e.orderValue)?(W(W.LOG_TYPES.WARNING,"Order value can only be a positive number",e.name),!1):e.name===d||M.test(e.name)?!(e.name!==d&&100<e.name.length&&(W(W.LOG_TYPES.WARNING,"Event name length cannot exceed 100 characters",e.name),1)):(W(W.LOG_TYPES.WARNING,"Event Name invalid",e.name),!1):(W(W.LOG_TYPES.WARNING,"content id is not string or number",e.name),!1)}),Z="outbrain_cid_fetch";(function(){for(var e=!1;l.queue.length;){var n=l.queue.shift();if(n[1]===d&&!n[2]){if(e)continue;e=!0}l.dispatch.apply(l,n)}})(),w.get("outbrain_click_id")||w.get(Z)||m("dicbo")||(obApi.setCachedClickId=((z=document.createElement("script")).src=u+"/cachedClickId?marketerId="+(c(obApi.marketerId)?obApi.marketerId.join(","):obApi.marketerId),document.body.appendChild(z),function(e){if("optout"!==e)if("NoClickId"===e)w.set(Z,!0,5/1440);else{var n=m("ob_cvr_pixel_domain");w.set("outbrain_click_id",e,1,n)}}))}(window,(document,Image),history,location)}catch(e){(new Image).src="//tr.outbrain.com/log?obApiVersion="+obApi.version+"&obtpVersion="+obApi.obtpVersion+"&msg="+encodeURIComponent('{"error":"LOAD", "obApiVersion": '+obApi.version+', "marketerID": '+obApi.marketerId+', "referrer": '+document.referrer+', "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","message":"'+e.message+'"}}')}